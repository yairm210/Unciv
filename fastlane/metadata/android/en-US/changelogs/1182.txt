CPU performance improvements

By EmperorPinguin:
- AI: Separate encampment-finding logic from ruins-finding 
- AI: Better "city to attack" logic 
- AI: Simplify target selection for city bombardment 

Fix battle notification order - By SomeTroglodyte