Automated workers no longer improve unworkable tiles

Improved construction AI choices

By nacro711072:
- fix wrong glyph when switch between different mod.
- Fixed another memory leak
- check whether the city has been a puppet in "Pick construction" action.